import{e as h,d as l,i as p,p as v,n as m,jm as P,jn as _,fx as u,am as x,qQ as b,qR as f}from"./index.fe92decb.js";let s=class extends v{constructor(e){super(e),this._hoveredPoints=new m}initialize(){this._updateScreenLocationsHandle=P(()=>this._hoveredPoints.toArray().map(({anchor:e,element:t})=>({screenLocation:e.screenLocation,element:t})),e=>{for(const{screenLocation:t,element:r}of e)u(t,({x:n,y:i})=>{r.style.transform=`translate(${n}px, ${i}px)`})},_)}destroy(){this._updateScreenLocationsHandle=x(this._updateScreenLocationsHandle),this._hoveredPoints.drain(e=>this._destroyHoveredPoint(e))}update(e){const t=this.view,r=this._hoveredPoints,n=e.length;for(;this._hoveredPoints.length>n;)this._destroyHoveredPoint(this._hoveredPoints.pop());for(;this._hoveredPoints.length<n;){const i=this._makeHoveredPoint();r.push(i),t.surface.appendChild(i.element)}for(let i=0;i<n;++i){const d=r.getItemAt(n-1-i),a=e[i];this._updateHoveredPoint(d,a)}}_makeHoveredPoint(){const{size:e,borderStyle:t,borderColor:r,borderWidth:n,boxShadow:i}=f,d=this.view,a=new b({view:d,screenLocationEnabled:!0}),c=document.createElement("div"),o=c.style;return o.position="absolute",o.top="0",o.left="0",o.contain="strict",o.boxSizing="border-box",o.width=`${e}px`,o.height=`${e}px`,o.marginTop=`-${e/2}px`,o.marginLeft=`-${e/2}px`,o.border=`${t} ${n}px ${r}`,o.borderRadius=`${e}px`,o.boxShadow=i,{anchor:a,element:c}}_updateHoveredPoint({anchor:e,element:t},r){e.screenLocationEnabled=!0,e.location=r.hoveredPoint;const n=t.style;n.display="block",n.background=r.color.toCss()}_destroyHoveredPoint({anchor:e,element:t}){e.destroy(),this.view.surface.removeChild(t)}};h([l()],s.prototype,"view",void 0),h([l()],s.prototype,"_hoveredPoints",void 0),s=h([p("esri.widgets.ElevationProfile.support.HoveredPoints")],s);export{s as h};
