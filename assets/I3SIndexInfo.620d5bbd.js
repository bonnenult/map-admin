import{b0 as f,cT as g,c4 as u}from"./vendor.c8f3cc8c.js";async function x(r,n,e,t,a,s){let c=null;if(f(e)){const o=`${r}/nodepages/`,l=o+Math.floor(e.rootIndex/e.nodesPerPage);try{return{type:"page",rootPage:(await g(l,{query:{f:"json",token:t},responseType:"json",signal:s})).data,rootIndex:e.rootIndex,pageSize:e.nodesPerPage,lodMetric:e.lodSelectionMetricType,urlPrefix:o}}catch(p){f(a)&&a.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",l,p),c=p}}if(!n)return null;const d=`${r}/nodes/`,i=d+(n&&n.split("/").pop());try{return{type:"node",rootNode:(await g(i,{query:{f:"json",token:t},responseType:"json",signal:s})).data,urlPrefix:d}}catch(o){throw new u("sceneservice:root-node-missing","Root node missing.",{pageError:c,nodeError:o,url:i})}}export{x as n};
