import{dv as y,dw as p,dh as f,dy as b,mN as h,dt as D,an as j,dx as O,dz as g,dA as v,dB as $,dC as N,mO as B,mP as w,mQ as S,du as k}from"./index.fe92decb.js";import"./vendor.d9e807b5.js";import"./index.dbbecfd7.js";/* empty css              */import"./qrcode.0911187d.js";/* empty css                 */function R(e,t,a,s){return e.name?e.styleName&&e.styleName==="Esri2DPointSymbolsStyle"?z(e,t,s):D(e,t,s).then(o=>q(o,e.name,t,a,s)):Promise.reject(new j("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function q(e,t,a,s,o){const d=e.data,u={portal:a&&a.portal||O.getDefault(),url:b(e.baseUrl),origin:"portal-item"},r=d.items.find(l=>l.name===t);if(!r){const l=`The symbol name '${t}' could not be found`;return Promise.reject(new j("symbolstyleutils:symbol-name-not-found",l,{symbolName:t}))}let m=g(v(r,s),u),i=r.thumbnail&&r.thumbnail.href;const c=r.thumbnail&&r.thumbnail.imageData;$()&&(m=N(m),i=N(i));const x={portal:a.portal,url:b(h(m)),origin:"portal-item"};return y(m,o).then(l=>{const P=s==="cimRef"?p(l.data):l.data,n=f(P,x);if(n&&B(n)){if(i){const U=g(i,u);n.thumbnail=new w({url:U})}else c&&(n.thumbnail=new w({url:`data:image/png;base64,${c}`}));e.styleUrl?n.styleOrigin=new S({portal:a.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(n.styleOrigin=new S({portal:a.portal,styleName:e.styleName,name:t}))}return n})}function z(e,t,a){const s=k.replace(/\{SymbolName\}/gi,e.name);return y(s,a).then(o=>{const d=p(o.data);return f(d,{portal:t.portal,url:b(h(s)),origin:"portal-item"})})}export{q as fetchSymbolFromStyle,R as resolveWebStyleSymbol};
