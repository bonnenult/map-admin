var g=Object.defineProperty,h=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var j=(r,t,e)=>t in r?g(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,c=(r,t)=>{for(var e in t||(t={}))v.call(t,e)&&j(r,e,t[e]);if(p)for(var e of p(t))w.call(t,e)&&j(r,e,t[e]);return r},d=(r,t)=>h(r,q(t));import{aI as y,an as x}from"./index.fe92decb.js";import"./vendor.d9e807b5.js";import"./index.dbbecfd7.js";/* empty css              */import"./qrcode.0911187d.js";/* empty css                 */let u;function I(r,t){let e=t.responseType;e?e!=="array-buffer"&&e!=="blob"&&e!=="json"&&e!=="native"&&e!=="native-request-init"&&e!=="text"&&(e="text"):e="json",t.responseType=e;const b=y(t.signal);return delete t.signal,globalThis.invokeStaticMessage("request",{url:r,options:t},{signal:b}).then(async s=>{let i,n,f,l,a;if(s.data)if(s.data instanceof ArrayBuffer){if(!(e!=="json"&&e!=="text"&&e!=="blob"||(i=new Blob([s.data]),e!=="json"&&e!=="text"||(u||(u=new FileReaderSync),l=u.readAsText(i),e!=="json")))){try{n=JSON.parse(l||null)}catch(o){const m=d(c({},o),{url:r,requestOptions:t});throw new x("request:server",o.message,m)}if(n.error){const o=d(c({},n.error),{url:r,requestOptions:t});throw new x("request:server",n.error.message,o)}}}else e==="native"&&(s.data.signal=b,f=await fetch(s.data.url,s.data));switch(e){case"blob":a=i;break;case"json":a=n;break;case"native":a=f;break;case"text":a=l;break;default:a=s.data}return{data:a,requestOptions:t,ssl:s.ssl,url:r}})}export{I as execute};
