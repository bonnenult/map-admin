import{aW as h,aX as l,aY as p,aZ as v,bc as m,k_ as _,k$ as u,ha as P,c2 as b,st as x,su as y}from"./vendor.70daa49e.js";let n=class extends v{constructor(e){super(e),this._hoveredPoints=new m}initialize(){this._updateScreenLocationsHandle=_(()=>this._hoveredPoints.toArray().map(({anchor:e,element:t})=>({screenLocation:e.screenLocation,element:t})),e=>{for(const{screenLocation:t,element:i}of e)P(t,({x:s,y:r})=>{i.style.transform=`translate(${s}px, ${r}px)`})},u)}destroy(){this._updateScreenLocationsHandle=b(this._updateScreenLocationsHandle),this._hoveredPoints.drain(e=>this._destroyHoveredPoint(e))}update(e){const t=this.view,i=this._hoveredPoints,s=e.length;for(;this._hoveredPoints.length>s;)this._destroyHoveredPoint(this._hoveredPoints.pop());for(;this._hoveredPoints.length<s;){const r=this._makeHoveredPoint();i.push(r),t.surface.appendChild(r.element)}for(let r=0;r<s;++r){const a=i.getItemAt(s-1-r),d=e[r];this._updateHoveredPoint(a,d)}}_makeHoveredPoint(){const{size:e,borderStyle:t,borderColor:i,borderWidth:s,boxShadow:r}=y,a=this.view,d=new x({view:a,screenLocationEnabled:!0}),c=document.createElement("div"),o=c.style;return o.position="absolute",o.top="0",o.left="0",o.contain="strict",o.boxSizing="border-box",o.width=`${e}px`,o.height=`${e}px`,o.marginTop=`-${e/2}px`,o.marginLeft=`-${e/2}px`,o.border=`${t} ${s}px ${i}`,o.borderRadius=`${e}px`,o.boxShadow=r,{anchor:d,element:c}}_updateHoveredPoint({anchor:e,element:t},i){e.screenLocationEnabled=!0,e.location=i.hoveredPoint;const s=t.style;s.display="block",s.background=i.color.toCss()}_destroyHoveredPoint({anchor:e,element:t}){e.destroy(),this.view.surface.removeChild(t)}};h([l()],n.prototype,"view",void 0),h([l()],n.prototype,"_hoveredPoints",void 0),n=h([p("esri.widgets.ElevationProfile.support.HoveredPoints")],n);export{n as h};
