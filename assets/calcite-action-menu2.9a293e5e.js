import{om as D,ok as ke,ol as Ct,on as Pt,oo as Oe,rv as Mt}from"./vendor.c8f3cc8c.js";import{g as Ne,q as qe,C as Bt,a as De,f as St}from"./dom.f3750ae1.js";import{g as Ke}from"./calcite-scrim2.b534543b.js";import{g as Ve}from"./guid.0d1cb548.js";import{d as Ye,c as Rt}from"./calcite-icon2.5de9f17b.js";import{d as ze}from"./calcite-action2.0a23b122.js";import{d as Xe}from"./calcite-loader2.aac1ff2d.js";import{g as Ht}from"./key.de01d79c.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */const It=(e,t)=>{const i=`h${e.level}`;return delete e.level,D(i,Object.assign({},e),t)};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */const K={container:"container",arrow:"arrow",imageContainer:"image-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContent:"header-content",heading:"heading"},$t={close:"Close"},Ge="data-calcite-popover-reference",Je="aria-controls",Qe="aria-expanded",Lt=2;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */var C="top",S="bottom",R="right",P="left",Ae="auto",te=[C,S,R,P],G="start",ie="end",_t="clippingParents",Ze="viewport",ne="popper",jt="reference",et=te.reduce(function(e,t){return e.concat([t+"-"+G,t+"-"+ie])},[]),tt=[].concat(te,[Ae]).reduce(function(e,t){return e.concat([t,t+"-"+G,t+"-"+ie])},[]),Ut="beforeRead",Ft="read",Wt="afterRead",Nt="beforeMain",qt="main",Kt="afterMain",Vt="beforeWrite",Yt="write",zt="afterWrite",Xt=[Ut,Ft,Wt,Nt,qt,Kt,Vt,Yt,zt];function L(e){return e?(e.nodeName||"").toLowerCase():null}function I(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function oe(e){var t=I(e).Element;return e instanceof t||e instanceof Element}function H(e){var t=I(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function it(e){if(typeof ShadowRoot=="undefined")return!1;var t=I(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Gt(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},o=t.attributes[i]||{},r=t.elements[i];!H(r)||!L(r)||(Object.assign(r.style,n),Object.keys(o).forEach(function(s){var a=o[s];a===!1?r.removeAttribute(s):r.setAttribute(s,a===!0?"":a)}))})}function Jt(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var o=t.elements[n],r=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]),a=s.reduce(function(c,p){return c[p]="",c},{});!H(o)||!L(o)||(Object.assign(o.style,a),Object.keys(r).forEach(function(c){o.removeAttribute(c)}))})}}const Qt={name:"applyStyles",enabled:!0,phase:"write",fn:Gt,effect:Jt,requires:["computeStyles"]};function _(e){return e.split("-")[0]}function J(e,t){var i=e.getBoundingClientRect(),n=1,o=1;return{width:i.width/n,height:i.height/o,top:i.top/o,right:i.right/n,bottom:i.bottom/o,left:i.left/n,x:i.left/n,y:i.top/o}}function Te(e){var t=J(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function nt(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&it(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function j(e){return I(e).getComputedStyle(e)}function Zt(e){return["table","td","th"].indexOf(L(e))>=0}function U(e){return((oe(e)?e.ownerDocument:e.document)||window.document).documentElement}function me(e){return L(e)==="html"?e:e.assignedSlot||e.parentNode||(it(e)?e.host:null)||U(e)}function ot(e){return!H(e)||j(e).position==="fixed"?null:e.offsetParent}function ei(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&H(e)){var n=j(e);if(n.position==="fixed")return null}for(var o=me(e);H(o)&&["html","body"].indexOf(L(o))<0;){var r=j(o);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return o;o=o.parentNode}return null}function re(e){for(var t=I(e),i=ot(e);i&&Zt(i)&&j(i).position==="static";)i=ot(i);return i&&(L(i)==="html"||L(i)==="body"&&j(i).position==="static")?t:i||ei(e)||t}function Ce(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var F=Math.max,ae=Math.min,he=Math.round;function ve(e,t,i){return F(e,ae(t,i))}function rt(){return{top:0,right:0,bottom:0,left:0}}function at(e){return Object.assign({},rt(),e)}function st(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}var ti=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,at(typeof t!="number"?t:st(t,te))};function ii(e){var t,i=e.state,n=e.name,o=e.options,r=i.elements.arrow,s=i.modifiersData.popperOffsets,a=_(i.placement),c=Ce(a),p=[P,R].indexOf(a)>=0,l=p?"height":"width";if(!(!r||!s)){var h=ti(o.padding,i),k=Te(r),u=c==="y"?C:P,v=c==="y"?S:R,m=i.rects.reference[l]+i.rects.reference[c]-s[c]-i.rects.popper[l],d=s[c]-i.rects.reference[c],E=re(r),g=E?c==="y"?E.clientHeight||0:E.clientWidth||0:0,y=m/2-d/2,f=h[u],w=g-k[l]-h[v],b=g/2-k[l]/2+y,x=ve(f,b,w),A=c;i.modifiersData[n]=(t={},t[A]=x,t.centerOffset=x-b,t)}}function ni(e){var t=e.state,i=e.options,n=i.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||!nt(t.elements.popper,o)||(t.elements.arrow=o))}const oi={name:"arrow",enabled:!0,phase:"main",fn:ii,effect:ni,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Q(e){return e.split("-")[1]}var ri={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ai(e){var t=e.x,i=e.y,n=window,o=n.devicePixelRatio||1;return{x:he(he(t*o)/o)||0,y:he(he(i*o)/o)||0}}function ct(e){var t,i=e.popper,n=e.popperRect,o=e.placement,r=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,p=e.adaptive,l=e.roundOffsets,h=l===!0?ai(s):typeof l=="function"?l(s):s,k=h.x,u=k===void 0?0:k,v=h.y,m=v===void 0?0:v,d=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),g=P,y=C,f=window;if(p){var w=re(i),b="clientHeight",x="clientWidth";w===I(i)&&(w=U(i),j(w).position!=="static"&&a==="absolute"&&(b="scrollHeight",x="scrollWidth")),w=w,(o===C||(o===P||o===R)&&r===ie)&&(y=S,m-=w[b]-n.height,m*=c?1:-1),(o===P||(o===C||o===S)&&r===ie)&&(g=R,u-=w[x]-n.width,u*=c?1:-1)}var A=Object.assign({position:a},p&&ri);if(c){var O;return Object.assign({},A,(O={},O[y]=E?"0":"",O[g]=d?"0":"",O.transform=(f.devicePixelRatio||1)<=1?"translate("+u+"px, "+m+"px)":"translate3d("+u+"px, "+m+"px, 0)",O))}return Object.assign({},A,(t={},t[y]=E?m+"px":"",t[g]=d?u+"px":"",t.transform="",t))}function si(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=n===void 0?!0:n,r=i.adaptive,s=r===void 0?!0:r,a=i.roundOffsets,c=a===void 0?!0:a,p={placement:_(t.placement),variation:Q(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ct(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ct(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ci={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:si,data:{}};var ge={passive:!0};function li(e){var t=e.state,i=e.instance,n=e.options,o=n.scroll,r=o===void 0?!0:o,s=n.resize,a=s===void 0?!0:s,c=I(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&p.forEach(function(l){l.addEventListener("scroll",i.update,ge)}),a&&c.addEventListener("resize",i.update,ge),function(){r&&p.forEach(function(l){l.removeEventListener("scroll",i.update,ge)}),a&&c.removeEventListener("resize",i.update,ge)}}const pi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:li,data:{}};var fi={left:"right",right:"left",bottom:"top",top:"bottom"};function be(e){return e.replace(/left|right|bottom|top/g,function(t){return fi[t]})}var ui={start:"end",end:"start"};function lt(e){return e.replace(/start|end/g,function(t){return ui[t]})}function Pe(e){var t=I(e),i=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:i,scrollTop:n}}function Me(e){return J(U(e)).left+Pe(e).scrollLeft}function di(e){var t=I(e),i=U(e),n=t.visualViewport,o=i.clientWidth,r=i.clientHeight,s=0,a=0;return n&&(o=n.width,r=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:o,height:r,x:s+Me(e),y:a}}function mi(e){var t,i=U(e),n=Pe(e),o=(t=e.ownerDocument)==null?void 0:t.body,r=F(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=F(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+Me(e),c=-n.scrollTop;return j(o||i).direction==="rtl"&&(a+=F(i.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:a,y:c}}function Be(e){var t=j(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function pt(e){return["html","body","#document"].indexOf(L(e))>=0?e.ownerDocument.body:H(e)&&Be(e)?e:pt(me(e))}function se(e,t){var i;t===void 0&&(t=[]);var n=pt(e),o=n===((i=e.ownerDocument)==null?void 0:i.body),r=I(n),s=o?[r].concat(r.visualViewport||[],Be(n)?n:[]):n,a=t.concat(s);return o?a:a.concat(se(me(s)))}function Se(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function hi(e){var t=J(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function ft(e,t){return t===Ze?Se(di(e)):H(t)?hi(t):Se(mi(U(e)))}function vi(e){var t=se(me(e)),i=["absolute","fixed"].indexOf(j(e).position)>=0,n=i&&H(e)?re(e):e;return oe(n)?t.filter(function(o){return oe(o)&&nt(o,n)&&L(o)!=="body"}):[]}function gi(e,t,i){var n=t==="clippingParents"?vi(e):[].concat(t),o=[].concat(n,[i]),r=o[0],s=o.reduce(function(a,c){var p=ft(e,c);return a.top=F(p.top,a.top),a.right=ae(p.right,a.right),a.bottom=ae(p.bottom,a.bottom),a.left=F(p.left,a.left),a},ft(e,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ut(e){var t=e.reference,i=e.element,n=e.placement,o=n?_(n):null,r=n?Q(n):null,s=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,c;switch(o){case C:c={x:s,y:t.y-i.height};break;case S:c={x:s,y:t.y+t.height};break;case R:c={x:t.x+t.width,y:a};break;case P:c={x:t.x-i.width,y:a};break;default:c={x:t.x,y:t.y}}var p=o?Ce(o):null;if(p!=null){var l=p==="y"?"height":"width";switch(r){case G:c[p]=c[p]-(t[l]/2-i[l]/2);break;case ie:c[p]=c[p]+(t[l]/2-i[l]/2);break}}return c}function ce(e,t){t===void 0&&(t={});var i=t,n=i.placement,o=n===void 0?e.placement:n,r=i.boundary,s=r===void 0?_t:r,a=i.rootBoundary,c=a===void 0?Ze:a,p=i.elementContext,l=p===void 0?ne:p,h=i.altBoundary,k=h===void 0?!1:h,u=i.padding,v=u===void 0?0:u,m=at(typeof v!="number"?v:st(v,te)),d=l===ne?jt:ne,E=e.rects.popper,g=e.elements[k?d:l],y=gi(oe(g)?g:g.contextElement||U(e.elements.popper),s,c),f=J(e.elements.reference),w=ut({reference:f,element:E,strategy:"absolute",placement:o}),b=Se(Object.assign({},E,w)),x=l===ne?b:f,A={top:y.top-x.top+m.top,bottom:x.bottom-y.bottom+m.bottom,left:y.left-x.left+m.left,right:x.right-y.right+m.right},O=e.modifiersData.offset;if(l===ne&&O){var M=O[o];Object.keys(A).forEach(function(B){var W=[R,S].indexOf(B)>=0?1:-1,T=[C,S].indexOf(B)>=0?"y":"x";A[B]+=M[T]*W})}return A}function bi(e,t){t===void 0&&(t={});var i=t,n=i.placement,o=i.boundary,r=i.rootBoundary,s=i.padding,a=i.flipVariations,c=i.allowedAutoPlacements,p=c===void 0?tt:c,l=Q(n),h=l?a?et:et.filter(function(v){return Q(v)===l}):te,k=h.filter(function(v){return p.indexOf(v)>=0});k.length===0&&(k=h);var u=k.reduce(function(v,m){return v[m]=ce(e,{placement:m,boundary:o,rootBoundary:r,padding:s})[_(m)],v},{});return Object.keys(u).sort(function(v,m){return u[v]-u[m]})}function yi(e){if(_(e)===Ae)return[];var t=be(e);return[lt(e),t,lt(t)]}function wi(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,r=o===void 0?!0:o,s=i.altAxis,a=s===void 0?!0:s,c=i.fallbackPlacements,p=i.padding,l=i.boundary,h=i.rootBoundary,k=i.altBoundary,u=i.flipVariations,v=u===void 0?!0:u,m=i.allowedAutoPlacements,d=t.options.placement,E=_(d),g=E===d,y=c||(g||!v?[be(d)]:yi(d)),f=[d].concat(y).reduce(function(q,$){return q.concat(_($)===Ae?bi(t,{placement:$,boundary:l,rootBoundary:h,padding:p,flipVariations:v,allowedAutoPlacements:m}):$)},[]),w=t.rects.reference,b=t.rects.popper,x=new Map,A=!0,O=f[0],M=0;M<f.length;M++){var B=f[M],W=_(B),T=Q(B)===G,Z=[C,S].indexOf(W)>=0,ee=Z?"width":"height",V=ce(t,{placement:B,boundary:l,rootBoundary:h,altBoundary:k,padding:p}),N=Z?T?R:P:T?S:C;w[ee]>b[ee]&&(N=be(N));var ye=be(N),Y=[];if(r&&Y.push(V[W]<=0),a&&Y.push(V[N]<=0,V[ye]<=0),Y.every(function(q){return q})){O=B,A=!1;break}x.set(B,Y)}if(A)for(var pe=v?3:1,we=function($){var ue=f.find(function(xe){var X=x.get(xe);if(X)return X.slice(0,$).every(function(Ee){return Ee})});if(ue)return O=ue,"break"},z=pe;z>0;z--){var fe=we(z);if(fe==="break")break}t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}}const xi={name:"flip",enabled:!0,phase:"main",fn:wi,requiresIfExists:["offset"],data:{_skip:!1}};function dt(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function mt(e){return[C,R,S,P].some(function(t){return e[t]>=0})}function Ei(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=ce(t,{elementContext:"reference"}),a=ce(t,{altBoundary:!0}),c=dt(s,n),p=dt(a,o,r),l=mt(c),h=mt(p);t.modifiersData[i]={referenceClippingOffsets:c,popperEscapeOffsets:p,isReferenceHidden:l,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}const ki={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ei};function Oi(e,t,i){var n=_(e),o=[P,C].indexOf(n)>=0?-1:1,r=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[P,R].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function Di(e){var t=e.state,i=e.options,n=e.name,o=i.offset,r=o===void 0?[0,0]:o,s=tt.reduce(function(l,h){return l[h]=Oi(h,t.rects,r),l},{}),a=s[t.placement],c=a.x,p=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=p),t.modifiersData[n]=s}const Ai={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Di};function Ti(e){var t=e.state,i=e.name;t.modifiersData[i]=ut({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Ci={name:"popperOffsets",enabled:!0,phase:"read",fn:Ti,data:{}};function Pi(e){return e==="x"?"y":"x"}function Mi(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,r=o===void 0?!0:o,s=i.altAxis,a=s===void 0?!1:s,c=i.boundary,p=i.rootBoundary,l=i.altBoundary,h=i.padding,k=i.tether,u=k===void 0?!0:k,v=i.tetherOffset,m=v===void 0?0:v,d=ce(t,{boundary:c,rootBoundary:p,padding:h,altBoundary:l}),E=_(t.placement),g=Q(t.placement),y=!g,f=Ce(E),w=Pi(f),b=t.modifiersData.popperOffsets,x=t.rects.reference,A=t.rects.popper,O=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,M={x:0,y:0};if(!!b){if(r||a){var B=f==="y"?C:P,W=f==="y"?S:R,T=f==="y"?"height":"width",Z=b[f],ee=b[f]+d[B],V=b[f]-d[W],N=u?-A[T]/2:0,ye=g===G?x[T]:A[T],Y=g===G?-A[T]:-x[T],pe=t.elements.arrow,we=u&&pe?Te(pe):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rt(),fe=z[B],q=z[W],$=ve(0,x[T],we[T]),ue=y?x[T]/2-N-$-fe-O:ye-$-fe-O,xe=y?-x[T]/2+N+$+q+O:Y+$+q+O,X=t.elements.arrow&&re(t.elements.arrow),Ee=X?f==="y"?X.clientTop||0:X.clientLeft||0:0,$e=t.modifiersData.offset?t.modifiersData.offset[t.placement][f]:0,Le=b[f]+ue-$e-Ee,_e=b[f]+xe-$e;if(r){var je=ve(u?ae(ee,Le):ee,Z,u?F(V,_e):V);b[f]=je,M[f]=je-Z}if(a){var At=f==="x"?C:P,Tt=f==="x"?S:R,de=b[w],Ue=de+d[At],Fe=de-d[Tt],We=ve(u?ae(Ue,Le):Ue,de,u?F(Fe,_e):Fe);b[w]=We,M[w]=We-de}}t.modifiersData[n]=M}}const Bi={name:"preventOverflow",enabled:!0,phase:"main",fn:Mi,requiresIfExists:["offset"]};function Si(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ri(e){return e===I(e)||!H(e)?Pe(e):Si(e)}function Hi(e){var t=e.getBoundingClientRect(),i=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return i!==1||n!==1}function Ii(e,t,i){i===void 0&&(i=!1);var n=H(t);H(t)&&Hi(t);var o=U(t),r=J(e),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!i)&&((L(t)!=="body"||Be(o))&&(s=Ri(t)),H(t)?(a=J(t),a.x+=t.clientLeft,a.y+=t.clientTop):o&&(a.x=Me(o))),{x:r.left+s.scrollLeft-a.x,y:r.top+s.scrollTop-a.y,width:r.width,height:r.height}}function $i(e){var t=new Map,i=new Set,n=[];e.forEach(function(r){t.set(r.name,r)});function o(r){i.add(r.name);var s=[].concat(r.requires||[],r.requiresIfExists||[]);s.forEach(function(a){if(!i.has(a)){var c=t.get(a);c&&o(c)}}),n.push(r)}return e.forEach(function(r){i.has(r.name)||o(r)}),n}function Li(e){var t=$i(e);return Xt.reduce(function(i,n){return i.concat(t.filter(function(o){return o.phase===n}))},[])}function _i(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function ji(e){var t=e.reduce(function(i,n){var o=i[n.name];return i[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}var ht={placement:"bottom",modifiers:[],strategy:"absolute"};function vt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ui(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,n=i===void 0?[]:i,o=t.defaultOptions,r=o===void 0?ht:o;return function(a,c,p){p===void 0&&(p=r);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},ht,r),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},h=[],k=!1,u={state:l,setOptions:function(E){var g=typeof E=="function"?E(l.options):E;m(),l.options=Object.assign({},r,l.options,g),l.scrollParents={reference:oe(a)?se(a):a.contextElement?se(a.contextElement):[],popper:se(c)};var y=Li(ji([].concat(n,l.options.modifiers)));return l.orderedModifiers=y.filter(function(f){return f.enabled}),v(),u.update()},forceUpdate:function(){if(!k){var E=l.elements,g=E.reference,y=E.popper;if(!!vt(g,y)){l.rects={reference:Ii(g,re(y),l.options.strategy==="fixed"),popper:Te(y)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(M){return l.modifiersData[M.name]=Object.assign({},M.data)});for(var f=0;f<l.orderedModifiers.length;f++){if(l.reset===!0){l.reset=!1,f=-1;continue}var w=l.orderedModifiers[f],b=w.fn,x=w.options,A=x===void 0?{}:x,O=w.name;typeof b=="function"&&(l=b({state:l,options:A,name:O,instance:u})||l)}}}},update:_i(function(){return new Promise(function(d){u.forceUpdate(),d(l)})}),destroy:function(){m(),k=!0}};if(!vt(a,c))return u;u.setOptions(p).then(function(d){!k&&p.onFirstUpdate&&p.onFirstUpdate(d)});function v(){l.orderedModifiers.forEach(function(d){var E=d.name,g=d.options,y=g===void 0?{}:g,f=d.effect;if(typeof f=="function"){var w=f({state:l,name:E,instance:u,options:y}),b=function(){};h.push(w||b)}})}function m(){h.forEach(function(d){return d()}),h=[]}return u}}var Fi=[pi,Ci,ci,Qt,Ai,xi,Bi,oi,ki],Wi=Ui({defaultModifiers:Fi});const gt={animation:"calcite-popper-anim",animationActive:"calcite-popper-anim--active"};function bt(e,t){const i=["left","right"],n=["start","end"];return Ne(e)==="rtl"&&(i.reverse(),n.reverse()),t.replace(/-leading/gi,`-${n[0]}`).replace(/-trailing/gi,`-${n[1]}`).replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}function Ni({referenceEl:e,el:t,placement:i,overlayPositioning:n="absolute",modifiers:o}){return e?Wi(e,t,{strategy:n,placement:bt(t,i),modifiers:o}):null}async function qi({el:e,modifiers:t,placement:i,popper:n}){const o=bt(e,i);await n.setOptions({modifiers:t,placement:o})}function Ki(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}const yt=4,Vi=Math.ceil(Ki(yt,yt));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */const Yi='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0)}.calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}:host([data-popper-placement^=bottom]) .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}:host([data-popper-placement^=top]) .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}:host([data-popper-placement^=left]) .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}:host([data-popper-placement^=right]) .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}:host([data-popper-placement]) .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}.arrow,.arrow::before{position:absolute;width:8px;height:8px;z-index:-1}.arrow::before{content:"";-webkit-box-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);box-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-popper-placement^=top]) .arrow{bottom:-4px}:host([data-popper-placement^=bottom]) .arrow{top:-4px}:host([data-popper-placement^=left]) .arrow{right:-4px}:host([data-popper-placement^=right]) .arrow{left:-4px}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-popper-anim{background-color:var(--calcite-ui-foreground-1);border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);border-radius:0.25rem}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}.header{border-width:0;border-bottom-width:1px;border-bottom-color:var(--calcite-ui-border-3);border-style:solid;display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;background-color:var(--calcite-ui-foreground-1);-ms-flex-pack:start;justify-content:flex-start}.heading{display:block;-ms-flex:1 1 auto;flex:1 1 auto;font-weight:var(--calcite-font-weight-medium);margin:0;padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0.75rem;-ms-flex-item-align:center;align-self:center;color:var(--calcite-ui-text-1);font-size:var(--calcite-font-size-0);line-height:1.375;white-space:normal;word-wrap:break-word;word-break:break-word}.container{background-color:var(--calcite-ui-foreground-1);position:relative;display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-direction:row;flex-direction:row;height:100%;color:var(--calcite-ui-text-1);border-radius:0.25rem}.container.has-header{-ms-flex-direction:column;flex-direction:column}.content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-item-align:center;align-self:center;height:100%}.calcite--rtl .close-button{border-radius:0.25rem 0 0 0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}';let Re=class extends HTMLElement{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calcitePopoverClose=ke(this,"calcitePopoverClose",7),this.calcitePopoverOpen=ke(this,"calcitePopoverOpen",7),this.closeButton=!1,this.dismissible=!1,this.disableFlip=!1,this.disablePointer=!1,this.offsetDistance=Vi,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.intlClose=$t.close,this.guid=`calcite-popover-${Ve()}`,this.activeTransitionProp="opacity",this.setUpReferenceElement=()=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement();const{el:e,referenceElement:t,effectiveReferenceElement:i}=this;t&&!i&&console.warn(`${e.tagName}: reference-element id "${t}" was not found.`,{el:e}),this.addReferences(),this.createPopper()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement:e,open:t}=this;!e||e.setAttribute(Qe,t.toString())},this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const t=this.getId();e.setAttribute(Ge,t),e.setAttribute(Je,t),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;!e||(e.removeAttribute(Ge),e.removeAttribute(Je),e.removeAttribute(Qe))},this.hide=()=>{this.open=!1},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.open?this.calcitePopoverOpen.emit():this.calcitePopoverClose.emit())}}offsetDistanceOffsetHandler(){this.reposition()}offsetSkiddingHandler(){this.reposition()}openHandler(){this.reposition(),this.setExpandedAttr()}placementHandler(){this.reposition()}referenceElementHandler(){this.setUpReferenceElement()}componentWillLoad(){this.setUpReferenceElement()}componentDidLoad(){this.reposition()}disconnectedCallback(){this.removeReferences(),this.destroyPopper()}async reposition(){const{popper:e,el:t,placement:i}=this,n=this.getModifiers();e?await qi({el:t,modifiers:n,placement:i,popper:e}):this.createPopper()}async setFocus(e){var t;const{closeButtonEl:i}=this;if(e==="close-button"&&i){Ct(i),i.setFocus();return}(t=this.el)===null||t===void 0||t.focus()}async toggle(e=!this.open){this.open=e}getReferenceElement(){const{referenceElement:e,el:t}=this;return(typeof e=="string"?qe(t,`#${e}`):e)||null}getModifiers(){const{arrowEl:e,flipPlacements:t,disableFlip:i,disablePointer:n,offsetDistance:o,offsetSkidding:r}=this,s={name:"flip",enabled:!i};t&&(s.options={fallbackPlacements:t});const a={name:"arrow",enabled:!n};return e&&(a.options={element:e}),[a,s,{name:"offset",enabled:!0,options:{offset:[r,o]}}]}createPopper(){this.destroyPopper();const{el:e,placement:t,effectiveReferenceElement:i,overlayPositioning:n}=this,o=this.getModifiers();this.popper=Ni({el:e,modifiers:o,overlayPositioning:n,placement:t,referenceEl:i})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}renderCloseButton(){const{dismissible:e,closeButton:t,intlClose:i}=this;return e||t?D("calcite-action",{class:K.closeButton,onClick:this.hide,ref:n=>this.closeButtonEl=n,text:i},D("calcite-icon",{icon:"x",scale:"m"})):null}renderHeader(){const{heading:e,headingLevel:t}=this,i=e?D(It,{class:K.heading,level:t||Lt},e):null;return i?D("div",{class:K.header},i,this.renderCloseButton()):null}render(){const{effectiveReferenceElement:e,el:t,heading:i,label:n,open:o,disablePointer:r}=this,s=Ne(t)==="rtl",a=e&&o,c=!a,p=r?null:D("div",{class:K.arrow,ref:l=>this.arrowEl=l});return D(Pt,{"aria-hidden":c.toString(),"aria-label":n,"calcite-hydrated-hidden":c,id:this.getId(),role:"dialog"},D("div",{class:{[Bt.rtl]:s,[gt.animation]:!0,[gt.animationActive]:a},onTransitionEnd:this.transitionEnd},p,D("div",{class:{[K.hasHeader]:!!i,[K.container]:!0}},this.renderHeader(),D("div",{class:K.content},D("slot",null)),i?null:this.renderCloseButton())))}get el(){return this}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}static get style(){return Yi}};Re=Oe(Re,[1,"calcite-popover",{closeButton:[516,"close-button"],dismissible:[516],disableFlip:[516,"disable-flip"],disablePointer:[516,"disable-pointer"],flipPlacements:[16],heading:[1],headingLevel:[2,"heading-level"],label:[1],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[1,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],intlClose:[1,"intl-close"],effectiveReferenceElement:[32],reposition:[64],setFocus:[64],toggle:[64]}]);function wt(){["calcite-popover","calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-popover":customElements.get(t)||customElements.define(t,Re);break;case"calcite-action":customElements.get(t)||ze();break;case"calcite-icon":customElements.get(t)||Ye();break;case"calcite-loader":customElements.get(t)||Xe();break}})}wt();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */const zi=500,xt="data-calcite-tooltip-reference";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */const Xi="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:block}";let He=class extends HTMLElement{constructor(){super();this.__registerHost(),this.__attachShadow(),this.hoverTimeouts=new WeakMap,this.selector=`[${xt}]`,this.queryTooltip=e=>{var t;const{selector:i,el:n}=this,o=(t=e.closest(i))===null||t===void 0?void 0:t.getAttribute(xt);return qe(n,`#${o}`)},this.clearHoverTimeout=e=>{const{hoverTimeouts:t}=this;t.has(e)&&(window.clearTimeout(t.get(e)),t.delete(e))},this.closeExistingTooltip=()=>{const{tooltipEl:e}=this;e&&this.toggleTooltip(e,!1)},this.focusTooltip=({tooltip:e,value:t})=>{this.closeExistingTooltip(),t&&this.clearHoverTimeout(e),this.toggleTooltip(e,t)},this.toggleTooltip=(e,t)=>{e.open=t,t&&(this.tooltipEl=e)},this.hoverToggle=({tooltip:e,value:t})=>{const{hoverTimeouts:i}=this;i.delete(e),t&&this.closeExistingTooltip(),this.toggleTooltip(e,t)},this.hoverTooltip=({tooltip:e,value:t})=>{this.clearHoverTimeout(e);const{hoverTimeouts:i}=this,n=window.setTimeout(()=>this.hoverToggle({tooltip:e,value:t}),zi);i.set(e,n)},this.activeTooltipHover=e=>{const{tooltipEl:t,hoverTimeouts:i}=this,{type:n}=e;!t||(n==="mouseover"&&e.composedPath().includes(t)?this.clearHoverTimeout(t):n==="mouseout"&&!i.has(t)&&this.hoverTooltip({tooltip:t,value:!1}))},this.hoverEvent=(e,t)=>{const i=this.queryTooltip(e.target);this.activeTooltipHover(e),!!i&&this.hoverTooltip({tooltip:i,value:t})},this.focusEvent=(e,t)=>{const i=this.queryTooltip(e.target);if(!i||i===this.clickedTooltip){this.clickedTooltip=null;return}this.focusTooltip({tooltip:i,value:t})}}render(){return D("slot",null)}keyUpHandler(e){if(Ht(e.key)==="Escape"){const{tooltipEl:t}=this;t&&(this.clearHoverTimeout(t),this.toggleTooltip(t,!1))}}mouseEnterShow(e){this.hoverEvent(e,!0)}mouseLeaveHide(e){this.hoverEvent(e,!1)}clickHandler(e){const t=this.queryTooltip(e.target);this.clickedTooltip=t,t&&this.toggleTooltip(t,!1)}focusShow(e){this.focusEvent(e,!0)}blurHide(e){this.focusEvent(e,!1)}get el(){return this}static get style(){return Xi}};He=Oe(He,[1,"calcite-tooltip-manager",{selector:[1]},[[4,"keyup","keyUpHandler"],[3,"mouseover","mouseEnterShow"],[3,"mouseout","mouseLeaveHide"],[2,"click","clickHandler"],[2,"focus","focusShow"],[2,"blur","blurHide"]]]);function Et(){["calcite-tooltip-manager"].forEach(t=>{switch(t){case"calcite-tooltip-manager":customElements.get(t)||customElements.define(t,He);break}})}Et();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */const kt={menu:"menu",defaultTrigger:"default-trigger"},le={tooltip:"tooltip",trigger:"trigger"},Gi={menu:"ellipsis"},Ji="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size-1)}.menu ::slotted(calcite-action){display:-ms-flexbox;display:flex;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;margin:0.125rem}::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-brand);outline-offset:2px;outline-offset:0px}.default-trigger{-ms-flex-item-align:stretch;align-self:stretch;-ms-flex:0 1 auto;flex:0 1 auto;height:100%;position:relative}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){-ms-flex-item-align:stretch;align-self:stretch;-ms-flex:0 1 auto;flex:0 1 auto;height:100%;position:relative}.menu{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}",Ot=["ArrowUp","ArrowDown"],Dt=["ArrowUp","ArrowDown","End","Home"];let Ie=class extends HTMLElement{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpenChange=ke(this,"calciteActionMenuOpenChange",7),this.expanded=!1,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.actionElements=[],this.mutationObserver=Rt("mutation",()=>this.getActions()),this.guid=`calcite-action-menu-${Ve()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.activeMenuItemIndex=-1,this.connectMenuButtonEl=()=>{const{el:e,menuButtonId:t,menuId:i,open:n,label:o}=this,r=De(e,le.trigger)||this.defaultMenuButtonEl;this.menuButtonEl!==r&&(this.disconnectMenuButtonEl(),this.menuButtonEl=r,this.setTooltipReferenceElement(),!!r&&(r.active=n,r.setAttribute("aria-controls",i),r.setAttribute("aria-expanded",n.toString()),r.setAttribute("aria-haspopup","true"),r.id||(r.id=t),r.label||(r.label=o),r.text||(r.text=o),r.addEventListener("click",this.menuButtonClick),r.addEventListener("keydown",this.menuButtonKeyDown),r.addEventListener("keyup",this.menuButtonKeyUp)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl:e}=this;!e||(e.removeEventListener("click",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown),e.removeEventListener("keyup",this.menuButtonKeyUp))},this.setDefaultMenuButtonEl=e=>{this.defaultMenuButtonEl=e,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=()=>{this.toggleOpen()},this.setTooltipReferenceElement=()=>{const{el:e,expanded:t,menuButtonEl:i}=this,n=De(e,le.tooltip),o=(n==null?void 0:n.tagName)==="SLOT"?n.assignedElements()[0]:n;(o==null?void 0:o.tagName)==="CALCITE-TOOLTIP"&&(o.referenceElement=t?null:i)},this.updateAction=(e,t)=>{const{guid:i,activeMenuItemIndex:n}=this,o=`${i}-action-${t}`;e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=o),e.active=t===n},this.updateActions=e=>{e==null||e.forEach(this.updateAction)},this.getActions=()=>{const{el:e}=this,t=this.getAssignedElements().filter(n=>n.tagName==="CALCITE-ACTION"&&n.slot!=="trigger"),i=t.length?t:Array.from(e.querySelectorAll("calcite-action:not([slot=trigger])"));this.updateActions(i),this.actionElements=i,this.connectMenuButtonEl()},this.menuButtonKeyUp=e=>{const{key:t}=e,{actionElements:i}=this;!this.isValidKey(t,Ot)||(e.preventDefault(),!!i.length&&(this.toggleOpen(!0),this.handleActionNavigation(t,i)))},this.menuButtonKeyDown=e=>{const{key:t}=e;!this.isValidKey(t,Ot)||e.preventDefault()},this.menuActionsContainerKeyDown=e=>{const{key:t}=e,{actionElements:i,activeMenuItemIndex:n}=this;if(t==="Tab"){this.open=!1;return}if(t===" "||t==="Enter"){e.preventDefault();const o=i[n];o?o.click():this.toggleOpen(!1);return}this.isValidKey(t,Dt)&&e.preventDefault()},this.menuActionsContainerKeyUp=e=>{const{key:t}=e,{actionElements:i}=this;if(t==="Escape"){this.toggleOpen(!1);return}!this.isValidKey(t,Dt)||(e.preventDefault(),!!i.length&&this.handleActionNavigation(t,i))},this.handleActionNavigation=(e,t)=>{const i=this.activeMenuItemIndex;e==="Home"&&(this.activeMenuItemIndex=0),e==="End"&&(this.activeMenuItemIndex=t.length-1),e==="ArrowUp"&&(this.activeMenuItemIndex=Ke(Math.max(i-1,-1),t.length)),e==="ArrowDown"&&(this.activeMenuItemIndex=Ke(i+1,t.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(e=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=e}}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.getActions()}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=e),this.calciteActionMenuOpenChange.emit(e)}closeCalciteActionMenuOnClick(e){e.composedPath().includes(this.el)||(this.open=!1)}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){St(this.open?this.menuEl:this.menuButtonEl)}renderMenuButton(){const{el:e,label:t,scale:i}=this,n=D("slot",{name:le.trigger},D("calcite-action",{class:kt.defaultTrigger,icon:Gi.menu,ref:this.setDefaultMenuButtonEl,scale:i,text:t}));return De(e,le.tooltip)?D("calcite-tooltip-manager",null,n):n}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:t,open:i,menuId:n,menuButtonEl:o,label:r,placement:s,overlayPositioning:a}=this,c=e[t],p=(c==null?void 0:c.id)||null;return D("calcite-popover",{disablePointer:!0,label:r,offsetDistance:0,open:i,overlayPositioning:a,placement:s,referenceElement:o},D("div",{"aria-activedescendant":p,"aria-labelledby":o==null?void 0:o.id,class:kt.menu,id:n,onClick:this.handleCalciteActionClick,onKeyDown:this.menuActionsContainerKeyDown,onKeyUp:this.menuActionsContainerKeyUp,ref:l=>this.menuEl=l,role:"menu",tabIndex:-1},D("slot",null)))}render(){return D(Mt,null,this.renderMenuButton(),this.renderMenuItems(),D("slot",{name:le.tooltip}))}getAssignedElements(){return Array.from(this.el.querySelectorAll("slot")).map(e=>e.assignedElements({flatten:!0})).reduce((e,t)=>e.concat(t),[])}isValidKey(e,t){return!!t.find(i=>i===e)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return Ji}};Ie=Oe(Ie,[1,"calcite-action-menu",{expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[1,"overlay-positioning"],placement:[513],scale:[513],activeMenuItemIndex:[32],setFocus:[64]},[[8,"click","closeCalciteActionMenuOnClick"]]]);function Qi(){["calcite-action-menu","calcite-action","calcite-icon","calcite-loader","calcite-popover","calcite-tooltip-manager"].forEach(t=>{switch(t){case"calcite-action-menu":customElements.get(t)||customElements.define(t,Ie);break;case"calcite-action":customElements.get(t)||ze();break;case"calcite-icon":customElements.get(t)||Ye();break;case"calcite-loader":customElements.get(t)||Xe();break;case"calcite-popover":customElements.get(t)||wt();break;case"calcite-tooltip-manager":customElements.get(t)||Et();break}})}Qi();export{It as C,le as S,wt as a,Qi as b,Et as d};
