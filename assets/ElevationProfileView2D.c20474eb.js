import{ka as l,am as d,t as p,r as g,bZ as _,T as u,qO as c,u as m,jm as a,jn as o,b as n,qP as v}from"./index.988b09cd.js";import{h as w}from"./HoveredPoints.c7256f1f.js";import"./vendor.c6be4c00.js";import"./index.25aa0880.js";/* empty css              */import"./qrcode.0911187d.js";/* empty css                 */class b{constructor(t){this._params=t,this._highlightTask=null,this._highlightHandle=null}destroy(){this.remove()}remove(){this._highlightTask=l(this._highlightTask),this._highlightHandle=d(this._highlightHandle)}update(t){if(this.remove(),p(t)||!j(t))return;const i=t.layer;this._highlightTask=_(async e=>{const h=await this._params.view.whenLayerView(i);u(e),c(h)&&(this._highlightHandle=h.highlight(t))})}}function j(s){return g(s.geometry)&&s.geometry.type==="polyline"}class T{constructor(t,i){this._handles=new m,this._inputRepresentation=new b({view:t}),this._hoveredPoints=new w({view:t}),this._handles.add([a(()=>i.viewModel.hoveredPoints,e=>this._hoveredPoints.update(e),o),a(()=>{const{state:e,highlightEnabled:h,viewModel:r}=i;return{input:r.input,state:e,highlightEnabled:h}},e=>this._updateInputRepresentation(e),o)])}destroy(){this._handles=n(this._handles),this._inputRepresentation=n(this._inputRepresentation),this._hoveredPoints=n(this._hoveredPoints)}_updateInputRepresentation({input:t,state:i,highlightEnabled:e}){i===v.Selected&&e?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}export{T as ElevationProfileView2D};
