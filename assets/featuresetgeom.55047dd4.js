import{K as S}from"./arcadeUtils.90e710e7.js";import{nu as h,m_ as i,nD as o,mw as c,n6 as b,na as y,n1 as d}from"./index.fe92decb.js";import{g as R,d as l}from"./SpatialFilter.f14899ba.js";import{crosses as j,touches as A,within as F,overlaps as v,contains as k,intersects as w,relate as D}from"./geometryEngineAsync.3fd193f9.js";import"./FeatureSetReader.2f3c5dca.js";import"./centroid.4f152857.js";import"./vendor.d9e807b5.js";import"./index.dbbecfd7.js";/* empty css              */import"./qrcode.0911187d.js";/* empty css                 */import"./WhereClause.ab673712.js";function p(t){return t instanceof c}function u(t,a,r,f,m){return m(t,a,function(n,x,e){if(e.length<2)return f(new Error("Missing Parameters"));if((e=h(e))[0]===null&&e[1]===null)return i(!1);if(o(e[0]))return e[1]instanceof c?i(new R({parentfeatureset:e[0],relation:r,relationGeom:e[1]})):e[1]===null?i(new l({parentfeatureset:e[0]})):f("Spatial Relation cannot accept this parameter type");if(p(e[0])){if(p(e[1])){let s=null;switch(r){case"esriSpatialRelEnvelopeIntersects":s=w(S(e[0]),S(e[1]));break;case"esriSpatialRelIntersects":s=w(e[0],e[1]);break;case"esriSpatialRelContains":s=k(e[0],e[1]);break;case"esriSpatialRelOverlaps":s=v(e[0],e[1]);break;case"esriSpatialRelWithin":s=F(e[0],e[1]);break;case"esriSpatialRelTouches":s=A(e[0],e[1]);break;case"esriSpatialRelCrosses":s=j(e[0],e[1])}return s!==null?s:b(new Error("Unrecognised Relationship"))}return o(e[1])?i(new R({parentfeatureset:e[1],relation:r,relationGeom:e[0]})):e[1]===null?i(!1):f("Spatial Relation cannot accept this parameter type")}return e[0]!==null?f("Spatial Relation cannot accept this parameter type"):o(e[1])?i(new l({parentfeatureset:e[1]})):e[1]instanceof c||e[1]===null?i(!1):void 0})}function K(t){t.mode==="async"&&(t.functions.intersects=function(a,r){return u(a,r,"esriSpatialRelIntersects",t.failDefferred,t.standardFunctionAsync)},t.functions.envelopeintersects=function(a,r){return u(a,r,"esriSpatialRelEnvelopeIntersects",t.failDefferred,t.standardFunctionAsync)},t.signatures.push({name:"envelopeintersects",min:"2",max:"2"}),t.functions.contains=function(a,r){return u(a,r,"esriSpatialRelContains",t.failDefferred,t.standardFunctionAsync)},t.functions.overlaps=function(a,r){return u(a,r,"esriSpatialRelOverlaps",t.failDefferred,t.standardFunctionAsync)},t.functions.within=function(a,r){return u(a,r,"esriSpatialRelWithin",t.failDefferred,t.standardFunctionAsync)},t.functions.touches=function(a,r){return u(a,r,"esriSpatialRelTouches",t.failDefferred,t.standardFunctionAsync)},t.functions.crosses=function(a,r){return u(a,r,"esriSpatialRelCrosses",t.failDefferred,t.standardFunctionAsync)},t.functions.relate=function(a,r){return t.standardFunctionAsync(a,r,function(f,m,n){if(n=h(n),y(n,3,3),p(n[0])&&p(n[1]))return D(n[0],n[1],d(n[2]));if(n[0]instanceof c&&n[1]===null||n[1]instanceof c&&n[0]===null)return!1;if(o(n[0])&&n[1]===null)return new l({parentfeatureset:n[0]});if(o(n[1])&&n[0]===null)return new l({parentfeatureset:n[1]});if(o(n[0])&&n[1]instanceof c)return n[0].relate(n[1],d(n[2]));if(o(n[1])&&n[0]instanceof c)return n[1].relate(n[0],d(n[2]));if(n[0]===null&&n[1]===null)return!1;throw new Error("Illegal Argument")})})}export{K as registerFunctions};
